{"modules":[{"id":"c3bdd252-c5f5-4059-bb91-035a469bbc89","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"2438974e-704f-4181-bc21-ef47c6d1272c"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":153,"y":41}}},{"id":"2438974e-704f-4181-bc21-ef47c6d1272c","type":"PlayPrompt","branches":[{"condition":"Success","transition":"3fd4c35e-d314-45f6-8d1e-c30ef51e74e8"}],"parameters":[{"name":"Text","value":"<speak>\n  <break time=\"500ms\"/>\n</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":373,"y":38},"useDynamic":false}},{"id":"f6d3ea16-5395-4676-814e-b2a32e97d3c1","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":3083,"y":869}}},{"id":"a3b38b1a-9082-4747-8d7f-7876915b1b9f","type":"PlayPrompt","branches":[{"condition":"Success","transition":"f6d3ea16-5395-4676-814e-b2a32e97d3c1"}],"parameters":[{"name":"Text","value":"New status is. Enabled","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2839,"y":655},"useDynamic":false}},{"id":"f84b7f3c-10ba-4957-9ae5-9a72577b5127","type":"PlayPrompt","branches":[{"condition":"Success","transition":"f6d3ea16-5395-4676-814e-b2a32e97d3c1"}],"parameters":[{"name":"Text","value":"New status is. Disabled","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2857,"y":818},"useDynamic":false}},{"id":"ec197cb9-d5d5-4335-88d3-3b5518688051","type":"PlayPrompt","branches":[{"condition":"Success","transition":"f6d3ea16-5395-4676-814e-b2a32e97d3c1"}],"parameters":[{"name":"Text","value":"Something went wrong please contact your administrator","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2857,"y":977},"useDynamic":false}},{"id":"f174d903-1215-4143-8a59-279fe69359a6","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"a3b38b1a-9082-4747-8d7f-7876915b1b9f"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"false","transition":"f84b7f3c-10ba-4957-9ae5-9a72577b5127"},{"condition":"NoMatch","transition":"ec197cb9-d5d5-4335-88d3-3b5518688051"}],"parameters":[{"name":"Attribute","value":"Enabled"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":2593,"y":707},"conditionMetadata":[{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true","id":"78dfb2f1-4ef8-4e53-874e-009e53f08e35"},{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"false","id":"4310e9ef-2895-4863-9254-f1950526fb23"}]}},{"id":"e20f7e42-d2e4-454c-b2e9-0a9ce623e2cc","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"f174d903-1215-4143-8a59-279fe69359a6"},{"condition":"Error","transition":"37a08c3e-7c56-4a0e-809f-84faf631c83e"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:734805743552:function:CheckEmergencyMessage","namespace":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":2368,"y":711},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"},{"id":"91ea0db5-9115-409d-a0e4-19075d3d71bf","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"e20f7e42-d2e4-454c-b2e9-0a9ce623e2cc"},{"condition":"Error","transition":"37a08c3e-7c56-4a0e-809f-84faf631c83e"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:734805743552:function:UpdateEmergencyMessage","namespace":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":2108,"y":705},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"},{"id":"37a08c3e-7c56-4a0e-809f-84faf631c83e","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1957,"y":1169}}},{"id":"2517eb13-ed02-44bf-8daf-b7d3e00d3361","type":"SetAttributes","branches":[{"condition":"Success","transition":"91ea0db5-9115-409d-a0e4-19075d3d71bf"},{"condition":"Error","transition":"37a08c3e-7c56-4a0e-809f-84faf631c83e"}],"parameters":[{"name":"Attribute","value":"MessageID","key":"MessageID","namespace":"User Defined"},{"name":"Attribute","value":"Enabled","key":"Status","namespace":"External"}],"metadata":{"position":{"x":1777,"y":870},"dynamicParams":["MessageID","Status"]}},{"id":"17f11490-169d-41e6-87ee-db97928fdb05","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1472,"y":949}}},{"id":"135c249e-ff86-4eeb-96bd-c44b43422592","type":"PlayPrompt","branches":[{"condition":"Success","transition":"569d3dd8-544c-4e9e-aaf4-6b3190fab0c5"}],"parameters":[{"name":"Text","value":"$.External.Text","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1402,"y":700},"useDynamic":false}},{"id":"569d3dd8-544c-4e9e-aaf4-6b3190fab0c5","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"2517eb13-ed02-44bf-8daf-b7d3e00d3361"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"135c249e-ff86-4eeb-96bd-c44b43422592"},{"condition":"Timeout","transition":"17f11490-169d-41e6-87ee-db97928fdb05"},{"condition":"NoMatch","transition":"17f11490-169d-41e6-87ee-db97928fdb05"},{"condition":"Error","transition":"17f11490-169d-41e6-87ee-db97928fdb05"}],"parameters":[{"name":"Text","value":"If you want to change Status of the message press 1.\nIf you want ot listen to the message press 2","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":1122,"y":701},"conditionMetadata":[{"id":"d48c58b3-d687-43ec-aec0-5901daa1d49f","value":"1"},{"id":"53ef0b07-f0cd-4336-9a76-4314783910a3","value":"2"}],"useDynamic":false,"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":null},"target":"Digits"},{"id":"4f370e3e-ac43-4882-a6d5-48be294aa379","type":"PlayPrompt","branches":[{"condition":"Success","transition":"569d3dd8-544c-4e9e-aaf4-6b3190fab0c5"}],"parameters":[{"name":"Text","value":"Message $.Attributes.MessageID is Enabled","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":830,"y":721},"useDynamic":false}},{"id":"c433614d-753b-49e9-9b92-bbf00eee93fb","type":"PlayPrompt","branches":[{"condition":"Success","transition":"569d3dd8-544c-4e9e-aaf4-6b3190fab0c5"}],"parameters":[{"name":"Text","value":"Message $.Attributes.MessageID is Disabled","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":836,"y":890},"useDynamic":false}},{"id":"f3a2e83d-8f74-4594-8c6e-0e4b57756d80","type":"PlayPrompt","branches":[{"condition":"Success","transition":"7047d9dd-771c-4988-8714-5a61e0145aea"}],"parameters":[{"name":"Text","value":"Message $.Attributes.MessageID is not found","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":587,"y":880},"useDynamic":false}},{"id":"42687817-a8b7-450a-a724-02f7dabf6b24","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"4f370e3e-ac43-4882-a6d5-48be294aa379"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"false","transition":"c433614d-753b-49e9-9b92-bbf00eee93fb"},{"condition":"NoMatch","transition":"f3a2e83d-8f74-4594-8c6e-0e4b57756d80"}],"parameters":[{"name":"Attribute","value":"Enabled"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":549,"y":625},"conditionMetadata":[{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true","id":"f1dc31ae-d6ad-457b-b2d4-362b42d9e03f"},{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"false","id":"522a2eda-4811-400b-82c5-ce60c8e4aa66"}]}},{"id":"7047d9dd-771c-4988-8714-5a61e0145aea","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":309,"y":987}}},{"id":"61d06be9-0779-4933-93af-1f10c4fe62cd","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"42687817-a8b7-450a-a724-02f7dabf6b24"},{"condition":"Error","transition":"7047d9dd-771c-4988-8714-5a61e0145aea"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:734805743552:function:CheckEmergencyMessage","namespace":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":306,"y":684},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"},{"id":"6be8170f-d170-49c8-b8e4-dae5d5fb3258","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":601,"y":277}}},{"id":"3fd4c35e-d314-45f6-8d1e-c30ef51e74e8","type":"StoreUserInput","branches":[{"condition":"Success","transition":"59ced713-8e1b-4927-ab69-15db7e313739"},{"condition":"Error","transition":"6be8170f-d170-49c8-b8e4-dae5d5fb3258"}],"parameters":[{"name":"Text","value":"Welcome to Emergency Messages Admin IVR.\nEnter your PIN.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"CustomerInputType","value":"Custom"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":20},{"name":"EncryptEntry","value":false},{"name":"DisableCancel","value":false}],"metadata":{"position":{"x":585,"y":27},"useDynamic":false,"useDynamicForEncryptionKeys":true,"useDynamicForTerminatorDigits":false,"countryCodePrefix":"+1"}},{"id":"779886c3-1388-4a08-98de-a8f006d2110d","type":"PlayPrompt","branches":[{"condition":"Success","transition":"d9b483c7-49ed-45c9-a41d-4c00fd50fb47"}],"parameters":[{"name":"Text","value":"PIN is incorrect","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1561,"y":222},"useDynamic":false}},{"id":"11b7e247-de40-4e19-9ee8-703dd511fafb","type":"SetAttributes","branches":[{"condition":"Success","transition":"61d06be9-0779-4933-93af-1f10c4fe62cd"},{"condition":"Error","transition":"7047d9dd-771c-4988-8714-5a61e0145aea"}],"parameters":[{"name":"Attribute","value":"Stored customer input","key":"MessageID","namespace":"System"}],"metadata":{"position":{"x":65,"y":707},"dynamicParams":["MessageID"]}},{"id":"913cbee9-223c-470c-a6e7-a59af6fc1b41","type":"StoreUserInput","branches":[{"condition":"Success","transition":"11b7e247-de40-4e19-9ee8-703dd511fafb"},{"condition":"Error","transition":"5922bc1d-7bd9-4bdf-9e74-b99f50955263"}],"parameters":[{"name":"Text","value":"Enter Message ID","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"CustomerInputType","value":"Custom"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":4},{"name":"EncryptEntry","value":false},{"name":"DisableCancel","value":false}],"metadata":{"position":{"x":1830,"y":367},"useDynamic":false,"useDynamicForEncryptionKeys":true,"useDynamicForTerminatorDigits":false,"countryCodePrefix":"+1"}},{"id":"5922bc1d-7bd9-4bdf-9e74-b99f50955263","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1859,"y":610}}},{"id":"675474f4-4345-47dd-aad2-f1447c167114","type":"CheckAttribute","branches":[{"condition":"NoMatch","transition":"779886c3-1388-4a08-98de-a8f006d2110d"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"913cbee9-223c-470c-a6e7-a59af6fc1b41"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"0","transition":"779886c3-1388-4a08-98de-a8f006d2110d"}],"parameters":[{"name":"Attribute","value":"Valid"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1302,"y":21},"conditionMetadata":[{"id":"ca54d46e-b85e-4c9a-adc0-07b8b240f17a","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"1"},{"id":"2c2cc512-08f6-44fe-94bc-b5ede854b017","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"0"}]}},{"id":"d9b483c7-49ed-45c9-a41d-4c00fd50fb47","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1163,"y":275}}},{"id":"59ced713-8e1b-4927-ab69-15db7e313739","type":"SetAttributes","branches":[{"condition":"Success","transition":"7683dc34-5c99-43d0-82b0-f6254ce69bec"},{"condition":"Error","transition":"6be8170f-d170-49c8-b8e4-dae5d5fb3258"}],"parameters":[{"name":"Attribute","value":"Stored customer input","key":"PIN","namespace":"System"}],"metadata":{"position":{"x":797.5999755859375,"y":17},"dynamicParams":["PIN"]}},{"id":"7683dc34-5c99-43d0-82b0-f6254ce69bec","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"675474f4-4345-47dd-aad2-f1447c167114"},{"condition":"Error","transition":"d9b483c7-49ed-45c9-a41d-4c00fd50fb47"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:734805743552:function:checkEmergencyMessagesAdmin","namespace":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":1071,"y":15},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"}],"version":"1","start":"c3bdd252-c5f5-4059-bb91-035a469bbc89","metadata":{"entryPointPosition":{"x":15,"y":49.20000076293945},"snapToGrid":false,"name":"EmergencyMessagesAdmin_v2","description":null,"type":"contactFlow","status":"published","hash":"697445bb8b125e4f493a901ff88d052a783b6c149ec82c3b49376eb3366957f0"},"type":"contactFlow"}